/* JSCmprsd Hash:a57220d706848e39a2e32b0ab3101cb8 */
/** 
Copyright (c) 2012 Education.com Holdings, Inc. All Rights Reserved.
Duplication without permission prohibited.
 **/
var tabbedselector=new Class({Implements:[Options,Events],options:{containercClass:"tabbed-container",tabClass:"tab",opentabClass:"tab-active",closedtabClass:false,contentsDivPart:"-contents",transisitonTime:400,changeClassOnParent:true,contentswrapperclass:"tab-contents-wrap",ChangeFunction:false,setInitialTab:false},initialize:function(B){this.setOptions(B);this.transistions={};if(window.trident4){this.options.transisitonTime=this.options.transisitonTime/2}this.wrapper=false;this.container=$$("."+this.options.containercClass)[0]||false;if(!this.container){return }var A=this.container.getElement("."+this.options.contentswrapperclass);if(A){this.wrapper=A}this.container.getElements("."+this.options.tabClass).each(function(C){var D=$((C.id+this.options.contentsDivPart));if(C.hasClass(this.options.opentabClass)){this.currentlyopen=C;this.currentcontentsHeight=$(C.get("id")+this.options.contentsDivPart).getSize().y;D.getParent().setStyles({height:this.currentcontentsHeight+"px",position:"relative"});D.setStyle("position","absolute")}else{D.setStyle("position","absolute")}C.addEvent("click",function(E){E.stop();this.changetabs(C)}.bind(this))},this)},changetabs:function(C){if(C!=this.currentlyopen){var D=$(C.id+this.options.contentsDivPart);if(!$defined(this.transistions[this.currentlyopen.id])){this.transistions[(this.currentlyopen.id+this.options.contentsDivPart)]=new Fx.Morph((this.currentlyopen.id+this.options.contentsDivPart),{duration:this.options.transisitonTime,transition:Fx.Transitions.linear})}if(!$defined(this.transistions[D.id])){this.transistions[D.id]=new Fx.Morph(D.id,{duration:this.options.transisitonTime,transition:Fx.Transitions.linear,link:"cancel"});this.transistions[D.id].set({opacity:0,visibility:"hidden"});D.setStyle("display","")}var B=D.getSize().y;var A=false;if(B!=this.currentcontentsHeight){if(this.wrapper){if(!this.wrapperfx){this.wrapperfx=new Fx.Morph(this.wrapper,{duration:(this.options.transisitonTime-90),transition:Fx.Transitions.linear})}this.wrapperfx.start({height:B});A=true;this.currentcontentsHeight=B}}if(A){this.transistions[(this.currentlyopen.id+this.options.contentsDivPart)].start({opacity:0}).chain(function(){this.element.setStyle("visibility","hidden")});(function(){this.transistions[D.id].set({visibility:"visible"}).start({opacity:1})}.bind(this)).delay(400)}else{this.transistions[(this.currentlyopen.id+this.options.contentsDivPart)].start({opacity:0}).chain(function(){this.element.setStyle("visibility","hidden")});(function(){this.transistions[D.id].set({visibility:"visible"}).start({opacity:1})}.bind(this)).delay(300)}this.currentlyopen.removeClass(this.options.opentabClass);if(this.options.closedtabClass){this.currentlyopen.addClass(this.options.closedtabClass)}if(this.options.changeClassOnParent){this.currentlyopen.getParent().removeClass(this.options.opentabClass)}C.addClass(this.options.opentabClass);if(this.options.closedtabClass){C.removeClass(this.options.closedtabClass)}if(this.options.changeClassOnParent){C.getParent().addClass(this.options.opentabClass)}this.currentlyopen=C;if(this.options.ChangeFunction){this.options.ChangeFunction(C,D)}D.fireEvent("tabOpened")}}});