/* JSCmprsd Hash:641b8aaf46b88fecedf8d2263dbdc787 */
var expanders=new Class({Implements:[Options,Events],options:{parentid:"tools-expander-area",clickclass:"clickable-title",targetclass:"tool-contents",expandedclass:"expanded",contractedclass:"contracted",expandareaidpart:"-contents",closebuttonclass:"closeit",removeheightafterslide:"nofixedheight",expandparentsclass:"expandparents",expandparentheight:3,onContracted:$empty,onExpanded:$empty,onAboutToExpand:$empty,onlyoneopen:false,closebeforeopen:false,registerClickAliases:false,registerCloseButtons:true,savetocookie:false,floatfix:false,cookiename:"",swapalttext:false,anitime:800},initialize:function(A){this.setOptions(A);this.sliders={};this.expandables={};this.expandedstate=[];this.slideoptions={};this.parentel=$(this.options.parentid);this.animating={};if(Browser.Engine.trident4){this.options.anitime=(this.options.anitime/2).toInt()}if(this.options.savetocookie){if(this.options.cookiename==""){this.options.savetocookie=false}else{this.firstcookieuse=false;this.thecookie=new Hash.Cookie(this.options.cookiename);if(!this.thecookie.getLength()){this.firstcookieuse=true}}}this.clickable=this.parentel.getElements("."+this.options.clickclass);this.clickable.each(function(B,C){this.expandables[C]=$(B.id+this.options.expandareaidpart);if(this.expandables[C]){this.expandedstate[C]=false;this.animating[C]=false;this.slideoptions[C]={};this.slideoptions[C].removeheightafterslide=false;this.slideoptions[C].expandparents=false;if(B.hasClass(this.options.removeheightafterslide)){this.slideoptions[C].removeheightafterslide=true}if(B.hasClass(this.options.expandedclass)){this.expandedstate[C]=true}if(this.options.savetocookie){this.createslider(C);if(this.firstcookieuse){if(B.hasClass(this.options.expandedclass)){this.savetocookie(C,true)}else{this.savetocookie(C,false)}}else{if(this.getstatefromcookie(C)){if(!B.hasClass(this.options.expandedclass)){this.swaptext(C);this.setopen(C)}}else{if(B.hasClass(this.options.expandedclass)){this.swaptext(C);this.setclosed(C)}}}}B.addEvents({click:function(D){D.stop();this.clickedit(C)}.bind(this),toggleit:function(){this.clickedit(C)}.bind(this),fixheight:function(D){this.fixheight(C)}.bind(this),expandit:function(){this.createslider(C);if(!this.expandedstate[C]){this.expandit(C);this.swaptext(C)}}.bind(this),contractit:function(){this.createslider(C);if(this.expandedstate[C]){this.contractit(C);this.swaptext(C)}}.bind(this)});if(this.options.registerClickAliases){if(this.parentel.getElements("."+B.id+"-click-alias")){this.parentel.getElements("."+B.id+"-click-alias").addEvent("click",function(D){D.stop();this.clickedit(C)}.bind(this))}}if(this.options.registerCloseButtons){if(this.expandables[C].getElement("."+this.options.closebuttonclass)){this.expandables[C].getElement("."+this.options.closebuttonclass).addEvent("click",function(D){this.contractit(C);this.swaptext(C)}.bind(this))}}}},this);if($H(this.expandables).getLength()){window.addEvent("resized",function(B){this.resize()}.bind(this))}},resize:function(){this.expandedstate.each(function(B,A){if(B){this.fixheight(A)}},this)},fixheight:function(A){this.createslider(A);if(this.animating[A]){this.sliders[A].cancel()}this.animating[A]=true;this.sliders[A].slideIn().chain(function(){this.animating[A]=false}.bind(this))},clickedit:function(B){this.createslider(B);if(!this.expandedstate[B]){var A=false;if(this.options.onlyoneopen){this.expandedstate.each(function(D,C){if(D&&C!=B){A=true;this.contractit(C);this.swaptext(C)}},this)}if(this.options.closebeforeopen&&A){(function(){this.expandit(B)}).delay(this.options.anitime,this)}else{this.expandit(B)}}else{this.contractit(B)}this.swaptext(B)},createslider:function(B){if(!this.sliders[B]){this.sliders[B]=new Fx.Slide(this.expandables[B],{duration:this.options.anitime});if(!this.expandedstate[B]){this.sliders[B].hide();this.expandables[B].setStyle("display","block")}if(Browser.Engine.trident){var A=(this.expandables[B].getSize().x-this.expandables[B].getStyle("padding-left").toInt()-this.expandables[B].getStyle("padding-right").toInt());this.expandables[B].getParent().setStyles({position:"relative"});if(this.options.floatfix){this.expandables[B].setStyles({width:A+"px","float":"left",position:"relative",zoom:"1"})}}}},swaptext:function(A){if(this.options.swapalttext){var B=this.clickable[A].getProperty("alt");if(B){this.clickable[A].setProperty("alt",this.clickable[A].get("text"));this.clickable[A].set("text",B)}}},expandit:function(A){if(this.animating[A]){this.sliders[A].cancel()}this.fireEvent("aboutToExpand",[this.expandables[A],this.clickable[A]]);this.animating[A]=true;this.sliders[A].slideIn().chain(function(){this.animating[A]=false;if(this.slideoptions[A].removeheightafterslide){if(!Browser.Engine.trident){this.sliders[A].wrapper.setStyle("height","")}}this.fireEvent("expanded",[this.expandables[A],this.clickable[A]])}.bind(this));this.clickable[A].addClass(this.options.expandedclass);this.clickable[A].removeClass(this.options.contractedclass);this.expandedstate[A]=true;if(this.options.savetocookie){this.savetocookie(A,true)}},contractit:function(A){if(this.animating[A]){this.sliders[A].cancel()}this.createslider(A);this.animating[A]=true;this.sliders[A].slideOut().chain(function(){this.animating[A]=false;this.fireEvent("contracted",[this.expandables[A],this.clickable[A]])}.bind(this));this.clickable[A].removeClass(this.options.expandedclass);this.clickable[A].addClass(this.options.contractedclass);this.expandedstate[A]=false;if(this.options.savetocookie){this.savetocookie(A,false)}},setopen:function(A){if(this.animating[A]){this.sliders[A].cancel()}this.sliders[A].show();this.clickable[A].addClass(this.options.expandedclass);this.clickable[A].removeClass(this.options.contractedclass);this.expandedstate[A]=true;if(this.options.savetocookie){this.savetocookie(A,true)}},setclosed:function(A){if(this.animating[A]){this.sliders[A].cancel()}this.sliders[A].hide();this.clickable[A].removeClass(this.options.expandedclass);this.clickable[A].addClass(this.options.contractedclass);this.expandedstate[A]=false;if(this.options.savetocookie){this.savetocookie(A,false)}},savetocookie:function(B,A){if(this.expandables[B]&&this.expandables[B].id){var C=this.expandables[B].id;this.thecookie.set(C,A)}},getstatefromcookie:function(A){if(this.expandables[A]&&this.expandables[A].id){return this.thecookie.get(this.expandables[A].id)}return false}});